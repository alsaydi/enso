
primitive int

class Tree
  @globmin: int = if parent then parent->globmin else locmin end
end

class Fork
  @repmin: Tree = Fork {kids: kids->repmin }
  @locmin: int = min(kids->locmin)
end

class Leaf
  @repmin: Tree = Leaf {value: globmin}
  @locmin: int = value
end
