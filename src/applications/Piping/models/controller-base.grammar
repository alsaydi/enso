start Controller

Controller ::= [Controller] "start" initial:/states[it]^ globals:Assign* states:State*
State ::= [State] "state" name:sym ":" transitions:Transition* commands:Command*

Command ::= Assign
Assign ::= [Assign] var:Expr "=" val:Expr

Transition ::= [Transition] "if" guard:Expr "goto" target:/states[it]^

abstract Expr