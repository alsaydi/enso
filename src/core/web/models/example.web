

def main {
  hello_world("William");
}

def html(title) {
  <html>
  <head>
  <title>output(title)</title>
  </head>
  <body>
  yield
  </body>
  </html>
}

def hello_world(name) {
  html("Test") {
    <h1> "Hello World " output(name) </h1>
    navigate("Hello World!", hello_world("Tijs"));

    <ul>
    for (x: all(Klass), i) {
      <li>output(i) ": " output(x->name)
      <ul>
       for (y: x->fields, j) {
          <li>"Field #" output(i) ": " output(y->name) </li>
       }
      </ul>
      </li>
    }
    </ul>

 }
}

def navigate(title, page) {
  <a href=link(page)>output(title)</a>
}
