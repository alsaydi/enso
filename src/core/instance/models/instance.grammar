
start Instances

Instances ::= [Instances] instances:Instance*

Instance ::=  [Instance] type:sym  "{" contents:{Content ";"}* "}"

Content ::= [Field] name:sym ":" value:Value
         |  [Code] "@" code:str
#ruby

merge(load('value.schema'), load('proto.schema'), 
      {"str" => "str", "Value" => "Value", "Tree" => "Tree"})


Value ::= Instance
       |  [Prim]  value:str? "(" kind:sym ")"
       |  [Ref] name:sym "^"
       |  [List] "[" elements:{Value ","}* "]"

